{% extends 'base.html' %}

{% block navbar %}
{% include 'includes/navbar/home.html' %}
{% endblock %}

{% block content %}

<form class="form" method="post">
    <div class="form-group">
      <label for="stockIndex">Index</label>
      <input type="text" class="form-control" name="stockIndex" id="stockIndex" placeholder="^FCHI">
      <small id="stockIndexHelp" class="form-text text-muted">Search any stock index.</small>
    </div>
    <button type="submit" class="btn btn-primary">Search</button>
  </form>

<canvas id="chart" width="600" height="400"></canvas>

{% endblock %}

{% block scripts %}
{{ super() }}

<script>
    var mychart = document.getElementById("chart").getContext("2d");

    var lineChart = new Chart(mychart, {
        type: "line",
        data: {
            labels: {{ labels | safe }},
            datasets: [
                {
                    data: {{ values | safe }},
                    fill: false,
                    borderColor: "rgb(75, 192, 192)",
                    lineTension: 0.1
                }
            ]
        },
    options: {
        legend: {
            display: false
        },
        responsive: true
    }
    })
</script>

{%- endblock scripts %}